<!DOCTYPE html>
<html lang="ru">
<head>
   <button class="back-btn" onclick="history.back()">‚Üê –ù–∞–∑–∞–¥</button>
<meta charset="UTF-8">
<title>–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</title>
<link rel="stylesheet" href="style.css">
<style>
  /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –±–ª–æ–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫ ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å */
  .container { max-width:600px; margin:0 auto; padding:20px; }
  h2 { margin-bottom:6px; }
  p.info-text { margin-top:0; color:#ccc; }
  hr { border:0; border-top:1px solid #444; margin:12px 0; }

  .add-btn { display:block; text-align:center; background:#2ecc71; color:#000; font-weight:700; padding:12px; border-radius:12px; cursor:pointer; margin-top:20px; width:220px; }

  .add-sub-form { display:none; margin-top:16px; padding:16px; background:#163049; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.4); }
  .add-sub-form input { display:block; width:100%; margin-bottom:10px; padding:8px; border-radius:8px; border:none; }
  .add-sub-form button { width:100%; }

  .subscription-card { background:#1b2f45; padding:14px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.4); display:flex; justify-content:space-between; margin-bottom:12px; }
  .sub-actions button { margin-left:8px; }

  /* MENU */
  .menu-btn { position:fixed; top:20px; right:20px; font-size:28px; cursor:pointer; z-index:100; }
  .side-menu { position:fixed; top:0; right:-250px; width:250px; height:100%; background:#14263b; box-shadow:-4px 0 12px rgba(0,0,0,0.5); transition:0.3s; padding:20px; display:flex; flex-direction:column; gap:16px; z-index:99; }
  .side-menu.open { right:0; }
  .side-menu a { color:#fff; text-decoration:none; font-weight:600; padding:8px 0; }
  .side-menu .close-menu { align-self:flex-end; cursor:pointer; font-size:24px; margin-bottom:20px; }
</style>
</head>
<body>

<header class="site-header">
  <div class="container header-row">

<!--–∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é-->
<div id="menuBtn">‚ò∞<div\>
<div id="sideMenu" class="side-menu">
<div id="closeMenu" class="menu-close">‚úï<div\>
  <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
  <a href="dashboard.html">–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</a>
  <a href="reminders.html">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</a>
  <a href="premium.html" class="active">Premium</a>
  </div>
</header>
</div>
</header>




  

<main class="container">
  <section>
    <h2>–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</h2>
    <hr>
    <p class="info-text">–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ä–∞—Å—Ö–æ–¥–∞–º–∏</p>
    <hr>
  </section>

  <section id="subscriptions-container"></section>

  <div class="add-btn" id="showAddFormBtn">+ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</div>

  <section class="add-sub-form" id="addForm">
    <input type="text" id="subName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏">
    <input type="number" id="subPrice" placeholder="–¶–µ–Ω–∞">
    <input type="number" id="subDay" placeholder="–î–µ–Ω—å —Å–ø–∏—Å–∞–Ω–∏—è">
    <button class="btn btn-primary large" onclick="addSubscription()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  </section>

</main>

<script>
/* üì¶ –ø–æ–¥–ø–∏—Å–∫–∏ */
let subscriptions = JSON.parse(localStorage.getItem('subs')) || [];

/* üßæ —Ä–µ–Ω–¥–µ—Ä –ø–æ–¥–ø–∏—Å–æ–∫ */
function renderSubs() {
  const container = document.getElementById('subscriptions-container');
  if (!container) return;

  container.innerHTML = '';
  subscriptions.forEach((sub, index) => {
    const div = document.createElement('div');
    div.className = 'subscription-card';
    div.innerHTML = `
      <div>
        <strong>${sub.name}</strong><br>
        <span class="sub-day">–°–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è ${sub.day}-–≥–æ</span>
      </div>
      <div class="sub-actions">
        <span>${sub.price} ‚ÇΩ</span>
        <button onclick="editSub(${index})">–ò–∑–º–µ–Ω–∏—Ç—å</button>
        <button onclick="deleteSub(${index})">–£–¥–∞–ª–∏—Ç—å</button>
      </div>
    `;
    container.appendChild(div);
  });
}

/* ‚ûï –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É */
const showBtn = document.getElementById('showAddFormBtn');
if (showBtn) {
  showBtn.onclick = function () {
    document.getElementById('addForm').style.display = 'block';
    this.style.display = 'none';
  };
}

/* ‚ûï –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É */
function addSubscription() {
  const name = document.getElementById('subName').value.trim();
  const price = parseInt(document.getElementById('subPrice').value);
  const day = parseInt(document.getElementById('subDay').value);

  if (!name || !price || !day) {
    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
    return;
  }

  subscriptions.push({ name, price, day });
  localStorage.setItem('subs', JSON.stringify(subscriptions));

  document.getElementById('addForm').style.display = 'none';
  document.getElementById('showAddFormBtn').style.display = 'block';

  document.getElementById('subName').value = '';
  document.getElementById('subPrice').value = '';
  document.getElementById('subDay').value = '';

  renderSubs();
}

/* ‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å */
function editSub(index) {
  const sub = subscriptions[index];
  const name = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏:', sub.name);
  const price = prompt('–¶–µ–Ω–∞:', sub.price);
  const day = prompt('–î–µ–Ω—å —Å–ø–∏—Å–∞–Ω–∏—è:', sub.day);

  if (name && price && day) {
    subscriptions[index] = {
      name,
      price: parseInt(price),
      day: parseInt(day)
    };
    localStorage.setItem('subs', JSON.stringify(subscriptions));
    renderSubs();
  }
}

/* üóë —É–¥–∞–ª–∏—Ç—å */
function deleteSub(index) {
  if (confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?')) {
    subscriptions.splice(index, 1);
    localStorage.setItem('subs', JSON.stringify(subscriptions));
    renderSubs();
  }
}

/* üçî –º–µ–Ω—é */
document.addEventListener('DOMContentLoaded', () => {
  const menuBtn = document.getElementById('menuBtn');
  const sideMenu = document.getElementById('sideMenu');
  const closeMenu = document.getElementById('closeMenu');

  if (menuBtn && sideMenu) {
    menuBtn.onclick = () => sideMenu.classList.toggle('open');
  }
  if (closeMenu) {
    closeMenu.onclick = () => sideMenu.classList.remove('open');
  }

  renderSubs();
});

/* üîî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
if ('Notification' in window && Notification.permission === 'default') {
  Notification.requestPermission();
}

function showNotification(title, body) {
  if (Notification.permission === 'granted') {
    new Notification(title, { body });
  }
}

function checkReminders() {
  const today = new Date().getDate();

  subscriptions.forEach(sub => {
    const diff = sub.day - today;

    if (diff === 3) {
      showNotification('–°–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 3 –¥–Ω—è', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
    if (diff === 1) {
      showNotification('–°–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤—Ç—Ä–∞', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
    if (diff === 0) {
      showNotification('–°–µ–≥–æ–¥–Ω—è —Å–ø–∏—Å–∞–Ω–∏–µ', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
  });
}

checkReminders();
</script>

