<!DOCTYPE html>
<html lang="ru">
<head>
 

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è ‚Äî –∞–Ω—Ç–∏–•–∞–æ—Å –ø–æ–¥–ø–∏—Å–æ–∫</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<button class="back-btn" onclick="history.back()">‚Üê –ù–∞–∑–∞–¥</button>
<header class="site-header">
  <div class="container header-row">
    <div class="logo">–∞–Ω—Ç–∏<span>–•–∞–æ—Å</span> <span class="muted">–ø–æ–¥–ø–∏—Å–æ–∫</span></div>
    <div id="menuBtn" class="menu-btn">‚ò∞</div>
  </div>
</header>

<main class="container reminders-page">

  <!-- HERO -->
  <section class="reminders-hero card shadow">
    <h1>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Å–ø–∏—Å–∞–Ω–∏—è—Ö</h1>
    <p class="lead">
      –ú—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ–º –∑–∞—Ä–∞–Ω–µ–µ, —á—Ç–æ–±—ã –≤—ã –Ω–µ –ø–ª–∞—Ç–∏–ª–∏ –∑–∞ –∑–∞–±—ã—Ç—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏.
      –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–∞–∂–¥—ã–º —Å–ø–∏—Å–∞–Ω–∏–µ–º.
    </p>
  </section>

  <!-- REMINDERS LIST -->
  <section class="reminders-list">

    <!-- –µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–æ–∫ -->
    <div id="emptyState" class="card shadow muted-center">
      <h3>–ü–æ–∫–∞ –Ω–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π</h3>
      <p>–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É ‚Äî –∏ –º—ã –Ω–∞–ø–æ–º–Ω–∏–º –æ —Å–ª–µ–¥—É—é—â–µ–º —Å–ø–∏—Å–∞–Ω–∏–∏.</p>
      <a href="dashboard.html" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–¥–ø–∏—Å–∫–∞–º</a>
    </div>

    <!-- –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (JS –±—É–¥–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å) -->
    <div id="reminders"></div>

  </section>

</main>
<!--–∫–Ω–æ–ø–∫–∞ –º–µ–Ω—é-->
<div id="menuBtn">‚ò∞<div\>
</div>
</header>
<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu">
  <div id="closeMenu" class="menu-close">‚úï<div\>
  <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
  <a href="dashboard.html">–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</a>
  <a href="reminders.html" class="active">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</a>
  <a href="premium.html">Premium</a>
</div>

<script>
const menuBtn = document.getElementById('menuBtn');
const sideMenu = document.getElementById('sideMenu');
const closeMenu = document.getElementById('closeMenu');

menuBtn.onclick = () => sideMenu.classList.add('open');
closeMenu.onclick = () => sideMenu.classList.remove('open');

// DEMO / REAL DATA
const subs = JSON.parse(localStorage.getItem('subs')) || [];
const list = document.getElementById('reminders');
const empty = document.getElementById('emptyState');

if(subs.length){
  empty.style.display = 'none';
  subs.forEach(s=>{
    const el = document.createElement('div');
    el.className = 'reminder-card card shadow';
    el.innerHTML = `
      <div class="reminder-left">
        <strong>${s.name}</strong>
        <div class="sub-day">–°–ø–∏—Å–∞–Ω–∏–µ ${s.day}-–≥–æ —á–∏—Å–ª–∞</div>
      </div>
      <div class="reminder-right">
        <span class="price">${s.price} ‚ÇΩ</span>
        <span class="badge">üîî —Å–∫–æ—Ä–æ</span>
      </div>
    `;
    list.appendChild(el);
  });
}
</script>
if (!localStorage.getItem('isAuth')) {
  location.href = 'auth.html';
}
</script>
<script>
/* üîí –∑–∞—â–∏—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
if (!localStorage.getItem('isAuth')) {
  location.href = 'auth.html';
}

/* üì¶ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ */
let subscriptions = JSON.parse(localStorage.getItem('subs')) || [];

/* ‚ûï –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ */
function addSub(name, price, day) {
  if (!name || !price || !day) {
    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
    return;
  }

  subscriptions.push({
    name,
    price: parseInt(price),
    day: parseInt(day)
  });

  localStorage.setItem('subs', JSON.stringify(subscriptions));
  renderSubs();
}

/* ‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ */
function editSub(index) {
  const sub = subscriptions[index];
  const name = prompt('–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏:', sub.name);
  const price = prompt('–¶–µ–Ω–∞:', sub.price);
  const day = prompt('–î–µ–Ω—å —Å–ø–∏—Å–∞–Ω–∏—è:', sub.day);

  if (name && price && day) {
    subscriptions[index] = {
      name,
      price: parseInt(price),
      day: parseInt(day)
    };
    localStorage.setItem('subs', JSON.stringify(subscriptions));
    renderSubs();
  }
}

/* üóë —É–¥–∞–ª–µ–Ω–∏–µ */
function deleteSub(index) {
  if (confirm('–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É?')) {
    subscriptions.splice(index, 1);
    localStorage.setItem('subs', JSON.stringify(subscriptions));
    renderSubs();
  }
}

/* üîî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
if ('Notification' in window && Notification.permission === 'default') {
  Notification.requestPermission();
}

function showNotification(title, body) {
  if (Notification.permission === 'granted') {
    new Notification(title, { body });
  }
}

function checkReminders() {
  const today = new Date().getDate();

  subscriptions.forEach(sub => {
    const diff = sub.day - today;

    if (diff === 3) {
      showNotification('–°–ø–∏—Å–∞–Ω–∏–µ —á–µ—Ä–µ–∑ 3 –¥–Ω—è', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
    if (diff === 1) {
      showNotification('–°–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≤—Ç—Ä–∞', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
    if (diff === 0) {
      showNotification('–°–µ–≥–æ–¥–Ω—è —Å–ø–∏—Å–∞–Ω–∏–µ', `${sub.name} ‚Äî ${sub.price} ‚ÇΩ`);
    }
  });
}

/* üçî –º–µ–Ω—é + –∑–∞–ø—É—Å–∫ */
document.addEventListener('DOMContentLoaded', () => {
  const menuBtn = document.getElementById('menuBtn');
  const sideMenu = document.getElementById('sideMenu');
  const closeMenu = document.getElementById('closeMenu');

  if (menuBtn && sideMenu) {
    menuBtn.onclick = () => sideMenu.classList.toggle('open');
  }

  if (closeMenu) {
    closeMenu.onclick = () => sideMenu.classList.remove('open');
  }

  renderSubs();
  checkReminders();
});
</script>

</body>
</html>

</body>
</html>